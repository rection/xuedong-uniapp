{"version":3,"file":"community.js","sources":["pages/community/community.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY29tbXVuaXR5L2NvbW11bml0eS52dWU"],"sourcesContent":["<template>\n  <GlobalLayout title=\"社区\">\n<view class=\"community-container\">\n    <scroll-view scroll-x class=\"category-nav\">\n      <view \n        class=\"nav-item\" \n        :class=\"{ active: currentCategoryId === 0 }\"\n        @click=\"currentCategoryId = 0\"\n      >全部</view>\n      <view \n        v-for=\"cat in categories\" \n        :key=\"cat.id\"\n        class=\"nav-item\"\n        :class=\"{ active: currentCategoryId === cat.id }\"\n        @click=\"currentCategoryId = cat.id\"\n      >\n        {{ cat.icon }} {{ cat.name }}\n      </view>\n    </scroll-view>\n\n    <view class=\"post-list\">\n      <block v-for=\"post in filteredPosts\" :key=\"post.id\">\n        <PostCard :post=\"post\" />\n      </block>\n    </view>\n  </view>\n  </GlobalLayout>\n</template>\n\n<script setup>\nimport { useTabDrawerCloser } from '@/composables/useTabDrawerCloser.js'\r\nimport { ref, computed } from 'vue';\nimport { usePostStore } from '@/stores/usePostStore.js';\nimport PostCard from '@/components/PostCard/PostCard.vue';\r\nuseTabDrawerCloser()\r\nconst postStore = usePostStore();\nconst categories = computed(() => postStore.categories);\nconst currentCategoryId = ref(0); // 0 代表查看全部\n\n// 核心筛选逻辑\nconst filteredPosts = computed(() => {\n  if (currentCategoryId.value === 0) {\n    return postStore.posts;\n  }\n  return postStore.posts.filter(p => p.categoryId === currentCategoryId.value);\n});\n</script>\n\n<style lang=\"scss\" scoped>\n\n.category-nav { white-space: nowrap; background: #fff; padding: 20rpx; margin-bottom: 20rpx; }\n.nav-item { \n  display: inline-block; \n  padding: 10rpx 30rpx; \n  margin-right: 20rpx; \n  background: #f0f2f5; \n  border-radius: 30rpx; \n  font-size: 26rpx;\n  color: #666;\n}\n.nav-item.active { background: #007aff; color: #fff; }\n.community-container { background-color: #f5f5f5; min-height: 100vh; }\n.post-list { padding: 0 20rpx; }\n</style>","import MiniProgramPage from 'C:/Users/ffx/OneDrive/Desktop/项目源码/xuedong-uniapp/pages/community/community.vue'\nwx.createPage(MiniProgramPage)"],"names":["useTabDrawerCloser","usePostStore","computed","ref"],"mappings":";;;;;;;;;;;;AAiCA,MAAM,WAAW,MAAW;;;;AAC5BA,mCAAAA,mBAAoB;AACpB,UAAM,YAAYC,oBAAY,aAAA;AAC9B,UAAM,aAAaC,cAAQ,SAAC,MAAM,UAAU,UAAU;AACtD,UAAM,oBAAoBC,cAAAA,IAAI,CAAC;AAG/B,UAAM,gBAAgBD,cAAQ,SAAC,MAAM;AACnC,UAAI,kBAAkB,UAAU,GAAG;AACjC,eAAO,UAAU;AAAA,MAClB;AACD,aAAO,UAAU,MAAM,OAAO,OAAK,EAAE,eAAe,kBAAkB,KAAK;AAAA,IAC7E,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5CD,GAAG,WAAW,eAAe;"}