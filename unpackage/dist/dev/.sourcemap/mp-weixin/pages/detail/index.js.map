{"version":3,"file":"index.js","sources":["pages/detail/index.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvZGV0YWlsL2luZGV4LnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"detail-container\" v-if=\"post\">\n    <view class=\"post-content\">\n      <view class=\"header\">\n        <view class=\"user-box\">\n          <view class=\"avatar\">{{ post.author[0] }}</view> <view class=\"info\">\n            <text class=\"name\">{{ post.author }}</text>\n            <text class=\"time\">{{ post.createTime }} ¬∑ {{ post.categoryName }}</text>\n          </view>\n        </view>\n      </view>\n\n      <text class=\"title\">{{ post.title }}</text>\n      <text class=\"body\">{{ post.content }}</text>\n\n      <view class=\"images\" v-if=\"post.images && post.images.length\">\n        <image \n          v-for=\"(img, idx) in post.images\" \n          :key=\"idx\" \n          :src=\"img\" \n          mode=\"widthFix\" \n          class=\"detail-img\"\n        />\n      </view>\n      \n      <view class=\"action-bar\">\n        <view \n          class=\"action-item\" \n          :class=\"{ 'liked': post.isLiked }\" \n          @click=\"handleLike\"\n        >\n          <text class=\"icon\">{{ post.isLiked ? '‚ù§Ô∏è' : 'ü§ç' }}</text>\n          <text>{{ post.likeCount }} ÁÇπËµû</text>\n        </view>\n        <view class=\"action-item\">\n          <text class=\"icon\">üí¨</text>\n          <text>{{ post.commentCount }} ËØÑËÆ∫</text>\n        </view>\n      </view>\n    </view>\n\n    <view class=\"divider\"></view>\n\n    <view class=\"comment-section\">\n      <text class=\"section-title\">ÂÖ®ÈÉ®ËØÑËÆ∫</text>\n      \n      <view class=\"comment-list\">\n        <view v-for=\"comment in post.comments\" :key=\"comment.id\" class=\"comment-item\">\n          <view class=\"c-avatar\">{{ comment.author[0] }}</view>\n          <view class=\"c-content\">\n            <view class=\"c-top\">\n              <text class=\"c-name\">{{ comment.author }}</text>\n              <text class=\"c-time\">{{ comment.time }}</text>\n            </view>\n            <text class=\"c-text\">{{ comment.content }}</text>\n          </view>\n        </view>\n        \n        <view v-if=\"post.comments.length === 0\" class=\"empty-comment\">\n          ËøòÊ≤°Êúâ‰∫∫ËØÑËÆ∫ÔºåÊä¢‰∏™Ê≤ôÂèëÂêß~\n        </view>\n      </view>\n    </view>\n\n    <view class=\"footer-input\">\n      <input \n        class=\"input-box\" \n        placeholder=\"ÂÜô‰∏ã‰Ω†ÁöÑËØÑËÆ∫...\" \n        v-model=\"commentText\"\n        confirm-type=\"send\"\n        @confirm=\"submitComment\"\n      />\n      <button \n        class=\"send-btn\" \n        :disabled=\"!commentText\" \n        @click=\"submitComment\"\n      >ÂèëÈÄÅ</button>\n    </view>\n    \n    <view style=\"height: 120rpx;\"></view>\n  </view>\n\n  <view v-else class=\"loading\">\n    Â∏ñÂ≠ê‰∏çÂ≠òÂú®ÊàñÊ≠£Âú®Âä†ËΩΩ...\n  </view>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue';\nimport { onLoad } from '@dcloudio/uni-app';\nimport { usePostStore } from '@/stores/usePostStore';\n\nconst postStore = usePostStore();\nconst postId = ref(null);\nconst commentText = ref('');\n\n// Ëé∑ÂèñÂΩìÂâçÂ∏ñÂ≠êÊï∞ÊçÆ (‰øùÊåÅÂìçÂ∫îÂºè)\nconst post = computed(() => {\n  return postStore.getPostById(postId.value);\n});\n\nonLoad((options) => {\n  if (options.id) {\n    postId.value = Number(options.id); // Á°Æ‰øùËΩ¨‰∏∫Êï∞Â≠óÁ±ªÂûã\n  }\n});\n\n// Â§ÑÁêÜÁÇπËµû\nconst handleLike = () => {\n  postStore.toggleLike(postId.value);\n};\n\n// Â§ÑÁêÜÂèëÈÄÅËØÑËÆ∫\nconst submitComment = () => {\n  if (!commentText.value.trim()) return;\n  \n  postStore.addComment(postId.value, commentText.value);\n  \n  uni.showToast({ title: 'ËØÑËÆ∫ÊàêÂäü', icon: 'none' });\n  commentText.value = ''; // Ê∏ÖÁ©∫ËæìÂÖ•Ê°Ü\n};\n</script>\n\n<style scoped>\n.detail-container {\r\n\tbackground: #fff; min-height: 100vh; }\n.post-content { padding: 30rpx; }\n.header { margin-bottom: 30rpx; }\n.user-box { display: flex; align-items: center; }\n.avatar { width: 80rpx; height: 80rpx; background: #eee; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: #666; }\n.info { margin-left: 20rpx; display: flex; flex-direction: column; }\n.name { font-weight: bold; font-size: 32rpx; }\n.time { font-size: 24rpx; color: #999; margin-top: 4rpx; }\n.title { font-size: 40rpx; font-weight: bold; margin-bottom: 20rpx; display: block; }\n.body { font-size: 32rpx; color: #333; line-height: 1.6; }\n.detail-img { width: 100%; margin-top: 20rpx; border-radius: 12rpx; }\n\n.action-bar { display: flex; margin-top: 40rpx; padding-top: 20rpx; border-top: 1px solid #f5f5f5; }\n.action-item { flex: 1; display: flex; align-items: center; justify-content: center; color: #666; font-size: 28rpx; }\n.action-item.liked { color: #ff4d4f; } /* ÁÇπËµûÂêéÁöÑÈ¢úËâ≤ */\n.icon { margin-right: 10rpx; font-size: 32rpx; }\n\n.divider { height: 20rpx; background: #f5f5f5; }\n\n.comment-section { padding: 30rpx; }\n.section-title { font-weight: bold; border-left: 8rpx solid #007aff; padding-left: 20rpx; font-size: 30rpx; margin-bottom: 30rpx; display: block;}\n.comment-item { display: flex; margin-bottom: 30rpx; }\n.c-avatar { width: 70rpx; height: 70rpx; background: #f0f0f0; border-radius: 50%; margin-right: 20rpx; display: flex; align-items: center; justify-content: center; font-size: 24rpx;}\n.c-content { flex: 1; }\n.c-top { display: flex; justify-content: space-between; margin-bottom: 8rpx; }\n.c-name { font-weight: bold; font-size: 28rpx; color: #555; }\n.c-time { font-size: 24rpx; color: #bbb; }\n.c-text { font-size: 28rpx; color: #333; }\n\n.footer-input {\n  position: fixed; bottom: 0; left: 0; width: 100%;\n  background: #fff; padding: 20rpx;\n  display: flex; align-items: center;\n  border-top: 1px solid #eee;\n  box-sizing: border-box; /* ÂÖ≥ÈîÆÔºöÈò≤Ê≠¢ÂÆΩÂ∫¶Ê∫¢Âá∫ */\n}\n.input-box { flex: 1; background: #f5f5f5; height: 70rpx; border-radius: 35rpx; padding: 0 30rpx; font-size: 28rpx; }\n.send-btn { margin-left: 20rpx; background: #007aff; color: #fff; font-size: 26rpx; border-radius: 35rpx; height: 70rpx; line-height: 70rpx; padding: 0 30rpx; }\n.send-btn[disabled] { background: #ccc; }\n</style>","import MiniProgramPage from 'C:/Users/ffx/OneDrive/Desktop/È°πÁõÆÊ∫êÁ†Å/xuedong-uniapp/pages/detail/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["usePostStore","ref","computed","onLoad","uni"],"mappings":";;;;;;AA4FA,UAAM,YAAYA,oBAAY,aAAA;AAC9B,UAAM,SAASC,cAAAA,IAAI,IAAI;AACvB,UAAM,cAAcA,cAAAA,IAAI,EAAE;AAG1B,UAAM,OAAOC,cAAQ,SAAC,MAAM;AAC1B,aAAO,UAAU,YAAY,OAAO,KAAK;AAAA,IAC3C,CAAC;AAEDC,kBAAM,OAAC,CAAC,YAAY;AAClB,UAAI,QAAQ,IAAI;AACd,eAAO,QAAQ,OAAO,QAAQ,EAAE;AAAA,MACjC;AAAA,IACH,CAAC;AAGD,UAAM,aAAa,MAAM;AACvB,gBAAU,WAAW,OAAO,KAAK;AAAA,IACnC;AAGA,UAAM,gBAAgB,MAAM;AAC1B,UAAI,CAAC,YAAY,MAAM,KAAM;AAAE;AAE/B,gBAAU,WAAW,OAAO,OAAO,YAAY,KAAK;AAEpDC,oBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,OAAM,CAAE;AAC7C,kBAAY,QAAQ;AAAA,IACtB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvHA,GAAG,WAAW,eAAe;"}