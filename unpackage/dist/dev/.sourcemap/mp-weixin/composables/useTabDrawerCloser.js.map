{"version":3,"file":"useTabDrawerCloser.js","sources":["composables/useTabDrawerCloser.js"],"sourcesContent":["// composables/useTabDrawerCloser.js\n\n// 1. 引入 uni-app 的 TabBar 点击钩子\nimport { onTabItemTap } from '@dcloudio/uni-app';\n// 2. 引入 Pinia store\nimport { useDrawerStore } from '@/stores/drawer.js';\n\n// 3. 导出一个可复用的函数\nexport function useTabDrawerCloser() {\n  // 4. 获取 store 实例\n  const drawerStore = useDrawerStore();\n\n  // 5. 注册 TabBar 点击事件\n  onTabItemTap(() => {\n    // 只要用户点击了 TabBar（无论是哪个）...\n\n    // 6. 检查是否有任何抽屉是打开的\n    if (drawerStore.isLeftOpen || drawerStore.isRightOpen) {\n\n      // 7. （核心）调用 'closeAll' 动作\n      //    (注意: 我们需要先在 store 中添加这个 action)\n      drawerStore.closeAll();\n    }\n  });\n\n  // 这个函数不需要返回任何东西\n}"],"names":["useDrawerStore","onTabItemTap"],"mappings":";;;AAQO,SAAS,qBAAqB;AAEnC,QAAM,cAAcA,cAAAA;AAGpBC,gBAAAA,aAAa,MAAM;AAIjB,QAAI,YAAY,cAAc,YAAY,aAAa;AAIrD,kBAAY,SAAQ;AAAA,IACrB;AAAA,EACL,CAAG;AAGH;;"}