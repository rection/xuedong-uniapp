{"version":3,"file":"RightProfile.js","sources":["components/RightProfile/RightProfile.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/QzovVXNlcnMvZmZ4L09uZURyaXZlL0Rlc2t0b3Av6aG555uu5rqQ56CBL3h1ZWRvbmctdW5pYXBwL2NvbXBvbmVudHMvUmlnaHRQcm9maWxlL1JpZ2h0UHJvZmlsZS52dWU"],"sourcesContent":["<template>\n  <view class=\"right-profile-container\">\n    <view class=\"profile-header\" @click=\"handleHeaderClick\">\n      <view class=\"avatar-wrapper\">\n        <image v-if=\"userInfo.avatar\" :src=\"userInfo.avatar\" mode=\"aspectFill\" class=\"avatar\" />\n        <view v-else class=\"avatar-placeholder\">{{ userInfo.username[0] }}</view>\n      </view>\n      <text class=\"username\">{{ userInfo.username }}</text>\n    </view>\n\n    <view class=\"stats-card\">\n      <view class=\"stat-item\">\n        <text class=\"stat-num\">{{ userInfo.karma }}</text>\n        <text class=\"stat-label\">Karma</text>\n      </view>\n      <view class=\"divider\"></view>\n      <view class=\"stat-item\">\n        <text class=\"stat-num\">{{ userInfo.appAgeDays }} Â§©</text>\n        <text class=\"stat-label\">ËΩØ‰ª∂Âπ¥ÈæÑ</text>\n      </view>\n    </view>\n\n    <view class=\"menu-list\">\n      <view class=\"menu-item\" @click=\"goToProfile\">\n        <text>üë§ ‰∏™‰∫∫ËµÑÊñô</text>\n        <text class=\"arrow\">></text>\n      </view>\n      <view class=\"menu-item\">\n        <text>‚öôÔ∏è ËÆæÁΩÆ</text>\n        <text class=\"arrow\">></text>\n      </view>\n      \n      <view v-if=\"isLoggedIn\" class=\"menu-item logout\" @click=\"handleLogout\">\n        <text>üö™ ÈÄÄÂá∫ÁôªÂΩï</text>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { computed } from 'vue';\nimport { useUserStore } from '@/stores/useUserStore.js';\n\nconst userStore = useUserStore();\nconst userInfo = computed(() => userStore.userInfo);\nconst isLoggedIn = computed(() => userStore.isLoggedIn);\n\n// ÁÇπÂáªÂ§¥ÈÉ®ÔºöÊ≤°ÁôªÂΩïÂéªÁôªÂΩïÔºåÁôªÂΩï‰∫ÜÂéªËµÑÊñôÈ°µ\nconst handleHeaderClick = () => {\n  if (!isLoggedIn.value) {\n    uni.navigateTo({ url: '/pages/Login/login' });\n  } else {\n    goToProfile();\n  }\n};\n\nconst goToProfile = () => {\n  if (!isLoggedIn.value) {\n    return uni.navigateTo({ url: '/pages/Login/login' });\n  }\n  // Ë∑≥ËΩ¨Âà∞ÂàÜÂåÖÁöÑ‰∏™‰∫∫ËµÑÊñôÈ°µ\n  uni.navigateTo({ url: '/pages-my/my/my' });\n};\n\nconst handleLogout = () => {\n  uni.showModal({\n    title: 'ÊèêÁ§∫',\n    content: 'Á°ÆÂÆöË¶ÅÈÄÄÂá∫ÁôªÂΩïÂêóÔºü',\n    success: (res) => {\n      if (res.confirm) {\n        // 1. ÊâßË°å Store ÁöÑÈÄÄÂá∫ÈÄªËæë (Ê∏ÖÈô§Êï∞ÊçÆ)\n        userStore.logout();\n        \n        // 2. ÊèêÁ§∫Áî®Êà∑\n        uni.showToast({ title: 'Â∑≤ÈÄÄÂá∫', icon: 'none' });\n\n        // 3. Âª∂Ëøü‰∏ÄÂ∞è‰ºöÂÑøË∑≥ËΩ¨ (‰∏∫‰∫ÜËÆ©Áî®Êà∑ÁúãÊ∏Ö \"Â∑≤ÈÄÄÂá∫\" ÁöÑÊèêÁ§∫)\n        setTimeout(() => {\n          // üöÄ ‰ΩøÁî® reLaunch ÂÖ≥Èó≠ÊâÄÊúâÈ°µÈù¢ÔºåÂº∫Âà∂Ë∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µ\n          uni.reLaunch({\n            url: '/pages/Login/login'\n          });\n        }, 800);\n      }\n    }\n  });\n};\n</script>\n\n<style scoped>\n/* Ê†∑ÂºèÂèÇÁÖß‰Ω†ÁöÑÊà™ÂõæËøòÂéü */\n.right-profile-container { padding: 40rpx 30rpx; background: #f8f9fa; height: 100%; }\n.profile-header { display: flex; flex-direction: column; align-items: center; margin-bottom: 40rpx; }\n.avatar-wrapper { width: 140rpx; height: 140rpx; border-radius: 50%; overflow: hidden; margin-bottom: 20rpx; box-shadow: 0 4rpx 10rpx rgba(0,0,0,0.1); background: #fff; }\n.avatar { width: 100%; height: 100%; }\n.avatar-placeholder { width: 100%; height: 100%; background: #e0e0e0; display: flex; align-items: center; justify-content: center; font-size: 50rpx; color: #fff; font-weight: bold; }\n.username { font-size: 36rpx; font-weight: bold; color: #333; }\n\n.stats-card { display: flex; background: #fff; border-radius: 20rpx; padding: 30rpx 0; margin-bottom: 40rpx; box-shadow: 0 2rpx 8rpx rgba(0,0,0,0.05); }\n.stat-item { flex: 1; display: flex; flex-direction: column; align-items: center; }\n.stat-num { font-size: 32rpx; font-weight: bold; color: #333; margin-bottom: 5rpx; }\n.stat-label { font-size: 24rpx; color: #999; }\n.divider { width: 1px; background: #eee; }\n\n.menu-list { background: #fff; border-radius: 20rpx; padding: 0 20rpx; }\n.menu-item { display: flex; justify-content: space-between; padding: 30rpx 10rpx; border-bottom: 1px solid #f5f5f5; font-size: 30rpx; color: #333; }\n.menu-item:last-child { border-bottom: none; }\n.arrow { color: #ccc; }\n.logout { color: #ff4d4f; margin-top: 20rpx; border-top: 1px solid #f5f5f5; }\n</style>","import Component from 'C:/Users/ffx/OneDrive/Desktop/È°πÁõÆÊ∫êÁ†Å/xuedong-uniapp/components/RightProfile/RightProfile.vue'\nwx.createComponent(Component)"],"names":["useUserStore","computed","uni"],"mappings":";;;;;;AA2CA,UAAM,YAAYA,oBAAY,aAAA;AAC9B,UAAM,WAAWC,cAAQ,SAAC,MAAM,UAAU,QAAQ;AAClD,UAAM,aAAaA,cAAQ,SAAC,MAAM,UAAU,UAAU;AAGtD,UAAM,oBAAoB,MAAM;AAC9B,UAAI,CAAC,WAAW,OAAO;AACrBC,sBAAAA,MAAI,WAAW,EAAE,KAAK,qBAAsB,CAAA;AAAA,MAChD,OAAS;AACL;MACD;AAAA,IACH;AAEA,UAAM,cAAc,MAAM;AACxB,UAAI,CAAC,WAAW,OAAO;AACrB,eAAOA,cAAG,MAAC,WAAW,EAAE,KAAK,qBAAsB,CAAA;AAAA,MACpD;AAEDA,oBAAAA,MAAI,WAAW,EAAE,KAAK,kBAAmB,CAAA;AAAA,IAC3C;AAEA,UAAM,eAAe,MAAM;AACzBA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AAChB,cAAI,IAAI,SAAS;AAEf,sBAAU,OAAM;AAGhBA,0BAAG,MAAC,UAAU,EAAE,OAAO,OAAO,MAAM,OAAM,CAAE;AAG5C,uBAAW,MAAM;AAEfA,4BAAAA,MAAI,SAAS;AAAA,gBACX,KAAK;AAAA,cACjB,CAAW;AAAA,YACF,GAAE,GAAG;AAAA,UACP;AAAA,QACF;AAAA,MACL,CAAG;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;ACrFA,GAAG,gBAAgB,SAAS;"}