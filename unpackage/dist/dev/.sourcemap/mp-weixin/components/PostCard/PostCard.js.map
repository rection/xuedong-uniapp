{"version":3,"file":"PostCard.js","sources":["components/PostCard/PostCard.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/QzovVXNlcnMvZmZ4L09uZURyaXZlL0Rlc2t0b3Av6aG555uu5rqQ56CBL3h1ZWRvbmctdW5pYXBwL2NvbXBvbmVudHMvUG9zdENhcmQvUG9zdENhcmQudnVl"],"sourcesContent":["<template>\n  <view class=\"post-card\" @click=\"goToDetail\">\n    \n    <view class=\"header\">\n      <view class=\"user-info\">\n        <image v-if=\"post.avatar\" :src=\"post.avatar\" mode=\"aspectFill\" class=\"avatar\" />\n        <view v-else class=\"avatar-placeholder\">{{ post.author ? post.author[0] : 'U' }}</view>\n        <view class=\"info-text\">\n          <text class=\"author\">{{ post.author }}</text>\n          <text class=\"time\">¬∑ {{ post.createTime }}</text>\n        </view>\n      </view>\n      <view class=\"category-tag\">r/{{ post.categoryName }}</view>\n    </view>\n\n    <view class=\"content\">\n      <text class=\"title\">{{ post.title }}</text>\n      <text class=\"body-text\">{{ post.content }}</text>\n    </view>\n\n    <view v-if=\"post.images && post.images.length > 0\" class=\"image-grid\">\n      <image \n        v-for=\"(img, index) in post.images\" \n        :key=\"index\" \n        :src=\"img\" \n        mode=\"aspectFill\" \n        class=\"post-img\"\n        @click.stop=\"previewImage(index)\" \n      />\n    </view>\n\n    <view class=\"footer\">\n      <view class=\"action-btn like-btn\" @click.stop=\"handleLike\">\n        <text class=\"icon\" :class=\"{ 'active-icon': post.isLiked }\">\n          {{ post.isLiked ? '‚ù§Ô∏è' : '‚¨ÜÔ∏è' }}\n        </text>\n        <text :class=\"{ 'active-text': post.isLiked }\">\n          {{ post.likeCount }}\n        </text>\n      </view>\n\n      <view class=\"action-btn\">\n        <text class=\"icon\">üí¨</text>\n        <text>{{ post.commentCount }}</text>\n      </view>\n      \n      <view class=\"action-btn\">\n        <text class=\"icon\">üîó</text>\n        <text>ÂàÜ‰∫´</text>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { usePostStore } from '@/stores/usePostStore';\n\n// 1. Êé•Êî∂Áà∂ÁªÑ‰ª∂‰º†Êù•ÁöÑ post Êï∞ÊçÆ\nconst props = defineProps({\n  post: {\n    type: Object,\n    required: true\n  }\n})\n\n// 2. ÂàùÂßãÂåñ Store\nconst postStore = usePostStore();\n\n// Ë∑≥ËΩ¨ËØ¶ÊÉÖÈ°µ\nconst goToDetail = () => {\n  // ËøôÈáå‰ΩøÁî®‰Ω†ÂàöÊâçÁ°ÆËÆ§ÁöÑË∑ØÂæÑÊñπÊ°à\n  uni.navigateTo({\n    url: `/pages/detail/index?id=${props.post.id}`\n  });\n}\n\n// 3. ÁÇπËµûÈÄªËæë\nconst handleLike = () => {\n  console.log('ÁÇπÂáª‰∫ÜÁÇπËµûÔºåID:', props.post.id); // Ë∞ÉËØïÊó•Âøó\n  // Ë∞ÉÁî® Store ‰∏≠ÁöÑ toggleLike ÊñπÊ≥ïÔºåËøô‰ºöÁõ¥Êé•‰øÆÊîπ Pinia ‰∏≠ÁöÑÊï∞ÊçÆ\n  // Âõ†‰∏∫ props.post ÊòØÂìçÂ∫îÂºèÁöÑÔºåÁïåÈù¢‰ºöËá™Âä®Êõ¥Êñ∞\n  postStore.toggleLike(props.post.id);\n}\n\n// (ÂèØÈÄâ) È¢ÑËßàÂõæÁâáÈÄªËæë\nconst previewImage = (index) => {\n  uni.previewImage({\n    urls: props.post.images,\n    current: index\n  });\n}\n</script>\n\n<style scoped>\n.post-card {\n  background-color: #fff;\n  padding: 24rpx;\n  margin-bottom: 20rpx;\n  border-radius: 12rpx;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 16rpx;\n}\n\n.user-info {\n  display: flex;\n  align-items: center;\n}\n\n.avatar, .avatar-placeholder {\n  width: 60rpx;\n  height: 60rpx;\n  border-radius: 50%;\n  margin-right: 16rpx;\n}\n\n.avatar-placeholder {\n  background: #e1e1e1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 24rpx;\n  color: #666;\n}\n\n.info-text {\n  display: flex;\n  flex-direction: column;\n}\n\n.author {\n  font-size: 26rpx;\n  font-weight: bold;\n  color: #333;\n}\n\n.time {\n  font-size: 22rpx;\n  color: #999;\n}\n\n.category-tag {\n  font-size: 20rpx;\n  background-color: #eff6ff;\n  color: #007aff;\n  padding: 4rpx 16rpx;\n  border-radius: 20rpx;\n  font-weight: bold;\n}\n\n.title {\n  font-size: 32rpx;\n  font-weight: bold;\n  color: #000;\n  margin-bottom: 12rpx;\n  display: block;\n}\n\n.body-text {\n  font-size: 28rpx;\n  color: #444;\n  line-height: 1.5;\n  margin-bottom: 16rpx;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 3;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n/* Â∫ïÈÉ®Êìç‰ΩúÊ†èÊ†∑Âºè */\n.footer {\n  display: flex;\n  align-items: center;\n  border-top: 1rpx solid #f0f0f0;\n  padding-top: 20rpx;\n  margin-top: 10rpx;\n}\n\n.action-btn {\n  display: flex;\n  align-items: center;\n  margin-right: 40rpx;\n  color: #888;\n  font-size: 26rpx;\n  /* Â¢ûÂä†ÁÇπÂáªÁÉ≠Âå∫ÔºåÊõ¥ÂÆπÊòìÁÇπ‰∏≠ */\n  padding: 10rpx 0; \n}\n\n/* ÁÇπËµûÂêéÁöÑÊ†∑Âºè */\n.active-icon, .active-text {\n  color: #ff4d4f; /* Á∫¢Ëâ≤ */\n  font-weight: bold;\n}\n\n.icon {\n  margin-right: 8rpx;\n  font-size: 30rpx;\n}\n\n/* ÂõæÁâáÁΩëÊ†º */\n.image-grid {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10rpx;\n  margin-bottom: 20rpx;\n}\n.post-img {\n  width: 200rpx;\n  height: 200rpx;\n  border-radius: 8rpx;\n  background: #eee;\n}\n</style>","import Component from 'C:/Users/ffx/OneDrive/Desktop/È°πÁõÆÊ∫êÁ†Å/xuedong-uniapp/components/PostCard/PostCard.vue'\nwx.createComponent(Component)"],"names":["usePostStore","uni"],"mappings":";;;;;;;;;;;;AA0DA,UAAM,QAAQ;AAQd,UAAM,YAAYA,oBAAY,aAAA;AAG9B,UAAM,aAAa,MAAM;AAEvBC,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,0BAA0B,MAAM,KAAK,EAAE;AAAA,MAChD,CAAG;AAAA,IACH;AAGA,UAAM,aAAa,MAAM;AACvBA,0BAAY,MAAA,OAAA,0CAAA,aAAa,MAAM,KAAK,EAAE;AAGtC,gBAAU,WAAW,MAAM,KAAK,EAAE;AAAA,IACpC;AAGA,UAAM,eAAe,CAAC,UAAU;AAC9BA,oBAAAA,MAAI,aAAa;AAAA,QACf,MAAM,MAAM,KAAK;AAAA,QACjB,SAAS;AAAA,MACb,CAAG;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzFA,GAAG,gBAAgB,SAAS;"}